<!DOCTYPE html>
<html>
<head>

  <meta charset="UTF-8">
  <title>Running tests with Xvfb</title>
  <meta name="viewport" content="width=device-width">

  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href='https://fonts.googleapis.com/css?family=Roboto+Condensed:300' rel='stylesheet' type='text/css'>
  <link href="/assets/css/style.css" rel="stylesheet" />
  <link href="/assets/css/colors-light.css" rel="stylesheet" />

</head>

<body>



  <header id="header">
    <h1><a href="/"> Joseph Buchma</a></h1>
    <p>Dev blog</p>
  </header>



  <div id="page">



    <div id="sidebar">
      <nav>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/archives">Archive</a></li>
          <li><a href="/about">About</a></li>
          <li><a href="/feed.xml">RSS Feed</a></li>
        </ul>
      </nav>
    </div>



    <div id="content">
      <article class="post">

	
		<h1><a href="/2015/05/25/running-tests-with-xvfb/">Running tests with Xvfb</a></h1>
	
  
  <ul class="tags">
    
      <li>
        <a href="/tag/rspec">rspec</a>
      </li>
    
      <li>
        <a href="/tag/xvfb">xvfb</a>
      </li>
    
    </ul>
  

	<div class="post-content"><p>Xvfb (short for X virtual framebuffer) is an in-memory display server for
UNIX-like operating system (e.g., Linux). It enables you to run graphical
applications without a display (e.g., browser tests on a CI server) while also
having the ability to take screenshots.</p>

<h3 id="installation-on-ubuntu">Installation on Ubuntu</h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">sudo apt-get install xvfb

<span class="c">#also make sure you have firefox installed</span>
sudo apt-get install firefox</code></pre></div>

<h3 id="run-ror-project-tests-with-xvfb">Run RoR project tests with Xvfb</h3>
<p>Go to your project folder and run</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">xvfb-run bundle <span class="nb">exec </span>rspec</code></pre></div>

<h2 id="gotchas">Gotchas</h2>
<p>Sometimes it behaves differently from regular selenium local testing. For
example it will not be able to click on ‘overlapped’ element, and test will fail,
while the same test passes wen running without Xvfb.</p>

<h3 id="links">Links</h3>
<ul>
  <li><a href="http://www.x.org/releases/X11R7.6/doc/man/man1/Xvfb.1.xhtml">Xvfb</a></li>
  <li><a href="http://elementalselenium.com/tips/38-headless">How To Run Your Tests Headlessly with
Xvfb</a></li>
</ul>
</div>

	<p class="meta">Posted on <span class="postdate">May 25, 2015</span></p>

</article>
    </div>


    <div id="tagcloud">
      <h2>Tags cloud</h2>
      <ul class="tags list">
          
            <li>
            <a href="/tag/vim">vim</a>
            </li>
          
            <li>
            <a href="/tag/tmux">tmux</a>
            </li>
          
            <li>
            <a href="/tag/editors">editors</a>
            </li>
          
            <li>
            <a href="/tag/devtools">devtools</a>
            </li>
          
            <li>
            <a href="/tag/shell">shell</a>
            </li>
          
            <li>
            <a href="/tag/zsh">zsh</a>
            </li>
          
            <li>
            <a href="/tag/bash">bash</a>
            </li>
          
            <li>
            <a href="/tag/workflow">workflow</a>
            </li>
          
            <li>
            <a href="/tag/rspec">rspec</a>
            </li>
          
            <li>
            <a href="/tag/xvfb">xvfb</a>
            </li>
          
            <li>
            <a href="/tag/golang">golang</a>
            </li>
          
            <li>
            <a href="/tag/jekyll">jekyll</a>
            </li>
          
            <li>
            <a href="/tag/github">github</a>
            </li>
          
            <li>
            <a href="/tag/githubpages">githubpages</a>
            </li>
          
            <li>
            <a href="/tag/testing">testing</a>
            </li>
          
      </ul>
    </div>


  </div>



  <footer id="footer">
    <p class="copyright">Copyright &copy; 2015 Joseph Buchma. Powered by <a href="http://jekyllrb.com">Jekyll</a>, based on theme by <a href="http://www.webmaster-source.com">Matt Harzewski</a></p>
  </footer>



  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  <script src="/assets/js/jquery.mobilemenu.min.js"></script>

  <script>
    $(document).ready(function(){
      $('#sidebar nav ul').mobileMenu({'topOptionText': 'Menu', 'prependTo': '#sidebar nav'});
    });
  </script>



</body>
</html>