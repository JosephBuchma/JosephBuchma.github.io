<!DOCTYPE html>
<html>
<head>

  <meta charset="UTF-8">
  <title>Solar Theme</title>
  <meta name="viewport" content="width=device-width">

  <!--[if lt IE 9]>
    <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href='https://fonts.googleapis.com/css?family=Roboto+Condensed:300' rel='stylesheet' type='text/css'>
  <link href="/assets/css/style.css" rel="stylesheet" />
  <link href="/assets/css/colors-light.css" rel="stylesheet" />

</head>

<body>



  <header id="header">
    <h1><a href="/"> Joseph Buchma</a></h1>
    <p>Dev blog</p>
  </header>



  <div id="page">



    <div id="sidebar">
      <nav>
        <ul>
          <li><a href="/">Home</a></li>
          <li><a href="/archives">Archive</a></li>
          <li><a href="/about">About</a></li>
          <li><a href="/feed.xml">RSS Feed</a></li>
        </ul>
      </nav>
    </div>



    <div id="content">
      

	<article class="post">

		
			<h1><a href="/2015/11/30/go-panic-defer-recover/">Keep calm in Go - panic, defer and recover</a></h1>
		
    
      <ul class="tags">
      
        <li>
        <a href="/tag/golang">golang</a>
        </li>
      
      </ul>
    

		<div class="post-content"><p>Normally you work with “exceptions” in golang by simply returning <code>error</code> from function
and then checking it in <code>if</code> statement when calling it. But sometimes
traditional <em>“try … catch … finally”</em> may be more convenient. It can be
achieved using golang’s <code>panic</code>, <code>defer</code> and <code>recover</code>.</p>

<p>Here is example of <code>try ... catch ... finally</code> in Go:</p>

<div class="highlight"><pre><code class="language-go" data-lang="go"><span class="kn">import</span> <span class="s">&quot;fmt&quot;</span>

<span class="kd">func</span> <span class="nx">main</span><span class="p">(){</span>
  <span class="c1">// finally</span>
  <span class="k">defer</span> <span class="kd">func</span><span class="p">(){</span>
    <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="s">&quot;FINALIZATION&quot;</span><span class="p">)</span>
  <span class="p">}()</span>

  <span class="c1">// catch</span>
  <span class="k">defer</span> <span class="kd">func</span><span class="p">(){</span>
    <span class="k">if</span> <span class="nx">exception</span> <span class="o">:=</span> <span class="nb">recover</span><span class="p">();</span> <span class="nx">exception</span> <span class="o">!=</span> <span class="kc">nil</span> <span class="p">{</span>
      <span class="nx">fmt</span><span class="p">.</span><span class="nx">Printf</span><span class="p">(</span><span class="s">&quot;`Exception` catched: %v\n&quot;</span><span class="p">,</span> <span class="nx">exception</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}()</span>

  <span class="c1">// try</span>
  <span class="nx">x</span> <span class="o">:=</span> <span class="nb">make</span><span class="p">([]</span><span class="kt">int</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
  <span class="nx">fmt</span><span class="p">.</span><span class="nx">Println</span><span class="p">(</span><span class="nx">x</span><span class="p">[</span><span class="mi">35</span><span class="p">])</span> <span class="c1">// this line will panic (e.g. throw exception):</span>
                     <span class="c1">// &quot;index out of range&quot;</span>
<span class="p">}</span></code></pre></div>

<p>You can panic with your custom exceptions of any type. Then you just check type
of recovered panic using typeswitch or reflect package…</p>

<p>As proof of concept (and for fun) I created <a href="https://github.com/JosephBuchma/calmly">Calmly
package</a></p>
</div>

	</article>



	<article class="post">

		
			<h1><a href="/2015/11/06/go-testing/">Go testing</a></h1>
		
    
      <ul class="tags">
      
        <li>
        <a href="/tag/golang">golang</a>
        </li>
      
        <li>
        <a href="/tag/testing">testing</a>
        </li>
      
      </ul>
    

		<div class="post-content"><p>testing</p>

</div>

	</article>



	<article class="post">

		
			<h1><a href="/2015/11/05/jekyll-with-plugins-and-github-pages/">Jekyll with plugins and Github Pages</a></h1>
		
    
      <ul class="tags">
      
        <li>
        <a href="/tag/jekyll">jekyll</a>
        </li>
      
        <li>
        <a href="/tag/github">github</a>
        </li>
      
        <li>
        <a href="/tag/githubpages">githubpages</a>
        </li>
      
      </ul>
    

		<div class="post-content"><p>Github skips running scripts in <strong>_plugins</strong> directory due to security
considreations. But you can push pre-built site into master branch:</p>

<ul>
  <li>make <strong>src</strong> branch</li>
  <li>remove everything from <code>destination</code> directory (_site)</li>
  <li>clone this repository again into <code>destination</code> directory. Now you have <strong>master</strong> branch in your <code>destination</code> directory.</li>
  <li>clear <code>destination</code> directory again and build your jekyll site.</li>
  <li>go to <code>destination</code> directory, commit and push changes. Now your site is
ready.</li>
</ul>

<p><em>Your <code>destination</code> folder should be gitignored</em></p>

<p>Do not forget to push your changes in <strong>src</strong> branch</p>
</div>

	</article>



	<article class="post">

		
			<h1><a href="/2015/07/19/golang/">Go</a></h1>
		
    
      <ul class="tags">
      
        <li>
        <a href="/tag/golang">golang</a>
        </li>
      
      </ul>
    

		<div class="post-content"><h2 id="links">Links</h2>

<p><strong>Libs &amp; Frameworks:</strong></p>

<ul>
  <li><a href="https://github.com/gin-gonic/gin">Gin</a> - performant lightweight web framework</li>
  <li>net/context</li>
</ul>

<p><strong>Go dev tools</strong></p>

<ul>
  <li><a href="https://github.com/moovweb/gvm">GVM</a> - Go version management</li>
</ul>

<p><strong>Articles</strong></p>

<ul>
  <li><a href="http://peter.bourgon.org/go-in-production">Go in production: best practices</a></li>
  <li><a href="http://12factor.net">The Twelve Factor App</a></li>
  <li><a href="https://talks.golang.org/2013/bestpractices.slide#1">Best practices (slides)</a></li>
</ul>

</div>

	</article>



	<article class="post">

		
			<h1><a href="/2015/05/25/running-tests-with-xvfb/">Running tests with Xvfb</a></h1>
		
    
      <ul class="tags">
      
        <li>
        <a href="/tag/rspec">rspec</a>
        </li>
      
        <li>
        <a href="/tag/xvfb">xvfb</a>
        </li>
      
      </ul>
    

		<div class="post-content"><p>Xvfb (short for X virtual framebuffer) is an in-memory display server for
UNIX-like operating system (e.g., Linux). It enables you to run graphical
applications without a display (e.g., browser tests on a CI server) while also
having the ability to take screenshots.</p>

<h3 id="installation-on-ubuntu">Installation on Ubuntu</h3>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">sudo apt-get install xvfb

<span class="c">#also make sure you have firefox installed</span>
sudo apt-get install firefox</code></pre></div>

<h3 id="run-ror-project-tests-with-xvfb">Run RoR project tests with Xvfb</h3>
<p>Go to your project folder and run</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">xvfb-run bundle <span class="nb">exec </span>rspec</code></pre></div>

<h2 id="gotchas">Gotchas</h2>
<p>Sometimes it behaves differently from regular selenium local testing. For
example it will not be able to click on ‘overlapped’ element, and test will fail,
while the same test passes wen running without Xvfb.</p>

<h3 id="links">Links</h3>
<ul>
  <li><a href="http://www.x.org/releases/X11R7.6/doc/man/man1/Xvfb.1.xhtml">Xvfb</a></li>
  <li><a href="http://elementalselenium.com/tips/38-headless">How To Run Your Tests Headlessly with
Xvfb</a></li>
</ul>
</div>

	</article>



	<article class="post">

		
			<h1><a href="/2015/05/14/from-bash-to-zsh/">From bash to zsh</a></h1>
		
    
      <ul class="tags">
      
        <li>
        <a href="/tag/shell">shell</a>
        </li>
      
        <li>
        <a href="/tag/zsh">zsh</a>
        </li>
      
        <li>
        <a href="/tag/bash">bash</a>
        </li>
      
        <li>
        <a href="/tag/workflow">workflow</a>
        </li>
      
        <li>
        <a href="/tag/devtools">devtools</a>
        </li>
      
      </ul>
    

		<div class="post-content"><p>This script is modified script from previous post. In addition to zsh which you
install manually it also installs
<a href="https://github.com/sorin-ionescu/prezto">zprezto</a></p>

<p>After installation you should manually configure gnome-terminal to use zsh
instead of bash.</p>

<h3 id="lets-sh">Let’s .sh</h3>
<p>You should run this script from zsh.</p>

<p>Shortcut: <code>sudo apt-get install zsh &amp;&amp; git clone https://gist.github.com/69eb0c387d0b8c86cd3a.git /tmp/_vtzs &amp;&amp; cd /tmp_vtzs &amp;&amp; sudo zsh zsh_vim_tmux_setup.sh</code></p>

<script src="https://gist.github.com/JosephBuchma/69eb0c387d0b8c86cd3a.js"></script>

<h4 id="all-best-workflow-exploration-posts">All “best workflow exploration” posts</h4>
<ol>
  <li><a href="/devtools/2015/05/03/from-sublime-text-to-vim/">From Sublime Text to Vim</a></li>
  <li><a href="#">From bash to zsh</a> &lt;- <em>you are here</em></li>
</ol>

</div>

	</article>



	<article class="post">

		
			<h1><a href="/2015/05/03/from-sublime-text-to-vim/">From Sublime Text to Vim</a></h1>
		
    
      <ul class="tags">
      
        <li>
        <a href="/tag/vim">vim</a>
        </li>
      
        <li>
        <a href="/tag/tmux">tmux</a>
        </li>
      
        <li>
        <a href="/tag/editors">editors</a>
        </li>
      
        <li>
        <a href="/tag/devtools">devtools</a>
        </li>
      
      </ul>
    

		<div class="post-content"><p><em>This post is beginning of my ‘best workflow exploration’. During this journey I’ll write shell script for quick bootstrap of this perfect workspace on fresh Ubuntu machine.</em></p>

<p>Vim is all about <code>~/.vimrc</code> file. There is no superhandy “Package control”, but
there are <a href="http://vimawesome.com/">vimawesome.com</a> with over 11K (!) plugins available, and
tools like <a href="https://github.com/Shougo/neobundle.vim">NeoBundle</a> for managing your plugins.
While swithcing to Vim I also found <a href="http://tmux.sourceforge.net/">Tmux</a>.
Using Vim and Tmux together lets you burn your mouse and/or drill out touchpad with pleasure.</p>

<p>The simplest way to quickly make your Vim ready to code is to install
one of ready to use plugin packs (which are finally just .vimrc). I used <a href="https://github.com/astrails/dotvim">dotvim</a>.</p>

<h4 id="useful-links--tips">Useful links &amp; tips</h4>
<ul>
  <li><strong>Tmux</strong>
    <ul>
      <li>look into <strong>tmux.conf</strong> for remappings</li>
      <li><a href="https://gist.github.com/MohamedAlaa/2961058">complete cheat sheet</a></li>
    </ul>
  </li>
  <li><strong>Vim</strong>
    <ul>
      <li><a href="https://raw.githubusercontent.com/LevelbossMike/vim_shortcut_wallpaper/master/vim-shortcuts_1280x800.png">Vim movement cheat sheet</a></li>
      <li>press <code>?</code> inside nerdtree, helpful</li>
      <li>select visually and press <code>Ctrl-n</code> / <code>Ctrl-p</code> for multiple cursors</li>
      <li>surround: <code>cs"'</code>-change; <code>ds"</code>-delete; <code>ysiw"</code>-wrap. <a href="https://github.com/tpope/vim-surround#surroundvim">See all</a></li>
      <li>search in files: <code>:Ag [options] {pattern} [{directory}]</code>; <a href="https://github.com/rking/ag.vim#keyboard-shortcuts">shortcuts
for search results</a></li>
      <li>look for all available features of <a href="https://github.com/astrails/dotvim">dotvim</a></li>
    </ul>
  </li>
</ul>

<h3 id="lets-bash">Let’s bash</h3>
<script src="https://gist.github.com/JosephBuchma/fc857d7c14c0ea2c475a.js"></script>

<h3 id="my-current-vimrcafter-and-vimrcbefore">My current .vimrc.after and .vimrc.before</h3>
<script src="https://gist.github.com/JosephBuchma/650d0dd87b553ca2c8a0.js"></script>

<h3 id="my-tmuxconf">My tmux.conf</h3>
<script src="https://gist.github.com/JosephBuchma/72709f7b22655f7ce339.js"></script>

</div>

	</article>






    </div>


    <div id="tagcloud">
      <h2>Tags cloud</h2>
      <ul class="tags list">
          
            <li>
            <a href="/tag/vim">vim</a>
            </li>
          
            <li>
            <a href="/tag/tmux">tmux</a>
            </li>
          
            <li>
            <a href="/tag/editors">editors</a>
            </li>
          
            <li>
            <a href="/tag/devtools">devtools</a>
            </li>
          
            <li>
            <a href="/tag/shell">shell</a>
            </li>
          
            <li>
            <a href="/tag/zsh">zsh</a>
            </li>
          
            <li>
            <a href="/tag/bash">bash</a>
            </li>
          
            <li>
            <a href="/tag/workflow">workflow</a>
            </li>
          
            <li>
            <a href="/tag/rspec">rspec</a>
            </li>
          
            <li>
            <a href="/tag/xvfb">xvfb</a>
            </li>
          
            <li>
            <a href="/tag/golang">golang</a>
            </li>
          
            <li>
            <a href="/tag/jekyll">jekyll</a>
            </li>
          
            <li>
            <a href="/tag/github">github</a>
            </li>
          
            <li>
            <a href="/tag/githubpages">githubpages</a>
            </li>
          
            <li>
            <a href="/tag/testing">testing</a>
            </li>
          
      </ul>
    </div>


  </div>



  <footer id="footer">
    <p class="copyright">Copyright &copy; 2015 Joseph Buchma. Powered by <a href="http://jekyllrb.com">Jekyll</a>, based on theme by <a href="http://www.webmaster-source.com">Matt Harzewski</a></p>
  </footer>



  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
  <script src="/assets/js/jquery.mobilemenu.min.js"></script>

  <script>
    $(document).ready(function(){
      $('#sidebar nav ul').mobileMenu({'topOptionText': 'Menu', 'prependTo': '#sidebar nav'});
    });
  </script>



</body>
</html>